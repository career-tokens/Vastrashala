{"version":3,"sources":["../../../src/hooks/useDragLayer.ts"],"sourcesContent":["import { useEffect } from 'react'\nimport type { DragLayerMonitor } from '../types/index.js'\nimport { useDragDropManager } from './useDragDropManager.js'\nimport { useCollector } from './useCollector.js'\n\n/**\n * useDragLayer Hook\n * @param collector The property collector\n */\nexport function useDragLayer<CollectedProps, DragObject = any>(\n\tcollect: (monitor: DragLayerMonitor<DragObject>) => CollectedProps,\n): CollectedProps {\n\tconst dragDropManager = useDragDropManager()\n\tconst monitor = dragDropManager.getMonitor()\n\tconst [collected, updateCollected] = useCollector(monitor, collect)\n\n\tuseEffect(() => monitor.subscribeToOffsetChange(updateCollected))\n\tuseEffect(() => monitor.subscribeToStateChange(updateCollected))\n\treturn collected\n}\n"],"names":["useDragLayer","collect","dragDropManager","useDragDropManager","monitor","getMonitor","collected","updateCollected","useCollector","useEffect","subscribeToOffsetChange","subscribeToStateChange"],"mappings":"AAAA;;;;QASgBA,YAAY,GAAZA,YAAY;AATF,IAAA,MAAO,WAAP,OAAO,CAAA;AAEE,IAAA,qBAAyB,WAAzB,yBAAyB,CAAA;AAC/B,IAAA,eAAmB,WAAnB,mBAAmB,CAAA;AAMzC,SAASA,YAAY,CAC3BC,OAAkE,EACjD;IACjB,MAAMC,eAAe,GAAGC,CAAAA,GAAAA,qBAAkB,AAAE,CAAA,mBAAF,EAAE;IAC5C,MAAMC,OAAO,GAAGF,eAAe,CAACG,UAAU,EAAE;IAC5C,MAAM,CAACC,SAAS,EAAEC,eAAe,CAAC,GAAGC,CAAAA,GAAAA,eAAY,AAAkB,CAAA,aAAlB,CAACJ,OAAO,EAAEH,OAAO,CAAC;IAEnEQ,CAAAA,GAAAA,MAAS,AAAwD,CAAA,UAAxD,CAAC,IAAML,OAAO,CAACM,uBAAuB,CAACH,eAAe,CAAC;IAAA,CAAC;IACjEE,CAAAA,GAAAA,MAAS,AAAuD,CAAA,UAAvD,CAAC,IAAML,OAAO,CAACO,sBAAsB,CAACJ,eAAe,CAAC;IAAA,CAAC;IAChE,OAAOD,SAAS,CAAA;CAChB"}