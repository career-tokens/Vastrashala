{"version":3,"sources":["../../../../src/hooks/useDrop/useRegisteredDropTarget.ts"],"sourcesContent":["import { registerTarget, TargetConnector } from '../../internals/index.js'\nimport type { DropTargetMonitor } from '../../types/index.js'\nimport type { DropTargetHookSpec } from '../types.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect.js'\nimport { useAccept } from './useAccept.js'\nimport { useDropTarget } from './useDropTarget.js'\n\nexport function useRegisteredDropTarget<O, R, P>(\n\tspec: DropTargetHookSpec<O, R, P>,\n\tmonitor: DropTargetMonitor<O, R>,\n\tconnector: TargetConnector,\n): void {\n\tconst manager = useDragDropManager()\n\tconst dropTarget = useDropTarget(spec, monitor)\n\tconst accept = useAccept(spec)\n\n\tuseIsomorphicLayoutEffect(\n\t\tfunction registerDropTarget() {\n\t\t\tconst [handlerId, unregister] = registerTarget(\n\t\t\t\taccept,\n\t\t\t\tdropTarget,\n\t\t\t\tmanager,\n\t\t\t)\n\t\t\tmonitor.receiveHandlerId(handlerId)\n\t\t\tconnector.receiveHandlerId(handlerId)\n\t\t\treturn unregister\n\t\t},\n\t\t[\n\t\t\tmanager,\n\t\t\tmonitor,\n\t\t\tdropTarget,\n\t\t\tconnector,\n\t\t\taccept.map((a) => a.toString()).join('|'),\n\t\t],\n\t)\n}\n"],"names":["useRegisteredDropTarget","spec","monitor","connector","manager","useDragDropManager","dropTarget","useDropTarget","accept","useAccept","useIsomorphicLayoutEffect","registerDropTarget","handlerId","unregister","registerTarget","receiveHandlerId","map","a","toString","join"],"mappings":"AAAA;;;;QAQgBA,uBAAuB,GAAvBA,uBAAuB;AARS,IAAA,QAA0B,WAA1B,0BAA0B,CAAA;AAGvC,IAAA,qBAA0B,WAA1B,0BAA0B,CAAA;AACnB,IAAA,4BAAiC,WAAjC,iCAAiC,CAAA;AACjD,IAAA,YAAgB,WAAhB,gBAAgB,CAAA;AACZ,IAAA,gBAAoB,WAApB,oBAAoB,CAAA;AAE3C,SAASA,uBAAuB,CACtCC,IAAiC,EACjCC,OAAgC,EAChCC,SAA0B,EACnB;IACP,MAAMC,OAAO,GAAGC,CAAAA,GAAAA,qBAAkB,AAAE,CAAA,mBAAF,EAAE;IACpC,MAAMC,UAAU,GAAGC,CAAAA,GAAAA,gBAAa,AAAe,CAAA,cAAf,CAACN,IAAI,EAAEC,OAAO,CAAC;IAC/C,MAAMM,MAAM,GAAGC,CAAAA,GAAAA,YAAS,AAAM,CAAA,UAAN,CAACR,IAAI,CAAC;IAE9BS,CAAAA,GAAAA,4BAAyB,AAkBxB,CAAA,0BAlBwB,CACxB,SAASC,kBAAkB,GAAG;QAC7B,MAAM,CAACC,SAAS,EAAEC,UAAU,CAAC,GAAGC,CAAAA,GAAAA,QAAc,AAI7C,CAAA,eAJ6C,CAC7CN,MAAM,EACNF,UAAU,EACVF,OAAO,CACP;QACDF,OAAO,CAACa,gBAAgB,CAACH,SAAS,CAAC;QACnCT,SAAS,CAACY,gBAAgB,CAACH,SAAS,CAAC;QACrC,OAAOC,UAAU,CAAA;KACjB,EACD;QACCT,OAAO;QACPF,OAAO;QACPI,UAAU;QACVH,SAAS;QACTK,MAAM,CAACQ,GAAG,CAAC,CAACC,CAAC,GAAKA,CAAC,CAACC,QAAQ,EAAE;QAAA,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;KACzC,CACD;CACD"}