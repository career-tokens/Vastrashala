"use strict";(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[2395],{50337:function(y,g,t){t.d(g,{pl:function(){return i},aY:function(){return A},q5:function(){return L.q}});var e=t(32735),c=t(19565),E=t(97889);const P={data:[],isLoading:!0};var u=(n,f)=>(0,E.ZP)(n,r=>{switch(f.type){case"GET_DATA_SUCCEEDED":{r.data=f.data,r.isLoading=!1;break}case"GET_DATA_ERROR":{r.isLoading=!1;break}default:return r}}),i=({ssoEnabled:n})=>{const[f,r]=(0,e.useReducer)(u,P),v=(0,c.lm)(),{get:h}=(0,c.kY)();return(0,e.useEffect)(()=>{(async()=>{try{if(!n){r({type:"GET_DATA_SUCCEEDED",data:[]});return}const{data:T}=await h("/admin/providers");r({type:"GET_DATA_SUCCEEDED",data:T})}catch(T){console.error(T),r({type:"GET_DATA_ERROR"}),v({type:"warning",message:{id:"notification.error"}})}})()},[h,n,v]),f},D=t(36866),l=t.n(D),m=t(67879),d=t(53038),L=t(53104);const a="strapi-notification-seat-limit",_="https://cloud.strapi.io/profile/billing",s="https://strapi.io/billing/request-seats";var A=()=>{const{formatMessage:n}=(0,m.Z)();let{license:f,isError:r,isLoading:v}=(0,L.q)();const h=(0,c.lm)(),{pathname:R}=(0,d.TH)(),{enforcementUserCount:T,permittedSeats:I,licenseLimitStatus:p,isHostedOnStrapiCloud:C}=f;(0,e.useEffect)(()=>{if(r||v)return;const S=!l()(I)&&!window.sessionStorage.getItem(`${a}-${R}`)&&(p==="AT_LIMIT"||p==="OVER_LIMIT");let U;p==="OVER_LIMIT"?U="warning":p==="AT_LIMIT"&&(U="softWarning"),S&&h({type:U,message:n({id:"notification.ee.warning.over-.message",defaultMessage:"Add seats to {licenseLimitStatus, select, OVER_LIMIT {invite} other {re-enable}} Users. If you already did it but it's not reflected in Strapi yet, make sure to restart your app."},{licenseLimitStatus:p}),title:n({id:"notification.ee.warning.at-seat-limit.title",defaultMessage:"{licenseLimitStatus, select, OVER_LIMIT {Over} other {At}} seat limit ({enforcementUserCount}/{permittedSeats})"},{licenseLimitStatus:p,enforcementUserCount:T,permittedSeats:I}),link:{url:C?_:s,label:n({id:"notification.ee.warning.seat-limit.link",defaultMessage:"{isHostedOnStrapiCloud, select, true {ADD SEATS} other {CONTACT SALES}}"},{isHostedOnStrapiCloud:C})},blockTransition:!0,onClose(){window.sessionStorage.setItem(`${a}-${R}`,!0)}})},[h,f,R,n,v,I,p,T,C,r])}},53104:function(y,g,t){t.d(g,{q:function(){return P}});var e=t(32735),c=t(19565),E=t(20108);function P({enabled:O}={enabled:!0}){const{get:u}=(0,c.kY)(),{data:o,isError:i,isLoading:D}=(0,E.useQuery)(["ee","license-limit-info"],async()=>{const{data:{data:d}}=await u("/admin/license-limit-information");return d},{enabled:O}),l=o??{},m=e.useCallback(d=>(l?.features??[]).find(a=>a.name===d)?.options??{},[l?.features]);return{license:l,getFeature:m,isError:i,isLoading:D}}},82395:function(y,g,t){t.r(g),t.d(g,{LoginEE:function(){return _}});var e=t(32735),c=t(9026),E=t(72850),P=t(87933),O=t(49372),u=t(60216),o=t.n(u),i=t(67879),D=t(8471),l=t(11060),m=t(24436),d=t(50337),L=t(68726);const a=(0,D.ZP)(c.i)`
  flex: 1;
`,_=s=>{const M=window.strapi.features.isEnabled(window.strapi.features.SSO),{isLoading:A,data:n}=(0,d.pl)({ssoEnabled:M}),{formatMessage:f}=(0,i.Z)();return!M||!A&&n.length===0?e.createElement(l.ZP,null,e.createElement(m.Z,{...s})):e.createElement(l.ZP,null,e.createElement(m.Z,{...s},e.createElement(E.x,{paddingTop:7},e.createElement(P.k,{direction:"column",alignItems:"stretch",gap:7},e.createElement(P.k,null,e.createElement(a,null),e.createElement(E.x,{paddingLeft:3,paddingRight:3},e.createElement(O.Z,{variant:"sigma",textColor:"neutral600"},f({id:"Auth.login.sso.divider"}))),e.createElement(a,null)),e.createElement(L.Z,{providers:n,displayAllProviders:!1})))))};_.defaultProps={onSubmit:s=>s.preventDefault(),requestError:null},_.propTypes={formErrors:o().object.isRequired,modifiedData:o().object.isRequired,onChange:o().func.isRequired,onSubmit:o().func,requestError:o().object}},68726:function(y,g,t){var e=t(32735),c=t(87933),E=t(63919),P=t(49372),O=t(15335),u=t(5803),o=t(60216),i=t.n(o),D=t(67879),l=t(14911),m=t(8471);const d=m.ZP.a`
  width: ${136/16}rem;
  display: flex;
  justify-content: center;
  align-items: center;
  height: ${48/16}rem;
  border: 1px solid ${({theme:s})=>s.colors.neutral150};
  border-radius: ${({theme:s})=>s.borderRadius};
  text-decoration: inherit;
  &:link {
    text-decoration: none;
  }
  color: ${({theme:s})=>s.colors.neutral600};
`,L=(0,m.ZP)(c.k)`
  & a:not(:first-child):not(:last-child) {
    margin: 0 ${({theme:s})=>s.spaces[2]};
  }
  & a:first-child {
    margin-right: ${({theme:s})=>s.spaces[2]};
  }
  & a:last-child {
    margin-left: ${({theme:s})=>s.spaces[2]};
  }
`,a=({provider:s})=>e.createElement(E.u,{label:s.displayName},e.createElement(d,{href:`${window.strapi.backendURL}/admin/connect/${s.uid}`},s.icon?e.createElement("img",{src:s.icon,"aria-hidden":!0,alt:"",height:"32px"}):e.createElement(P.Z,null,s.displayName)));a.propTypes={provider:i().shape({icon:i().string,displayName:i().string.isRequired,uid:i().string.isRequired}).isRequired};const _=({providers:s,displayAllProviders:M})=>{const{formatMessage:A}=(0,D.Z)();return M?e.createElement(O.r,{gap:4},s.map(n=>e.createElement(u.P,{key:n.uid,col:4},e.createElement(a,{provider:n})))):s.length>2&&!M?e.createElement(O.r,{gap:4},s.slice(0,2).map(n=>e.createElement(u.P,{key:n.uid,col:4},e.createElement(a,{provider:n}))),e.createElement(u.P,{col:4},e.createElement(E.u,{label:A({id:"global.see-more"})},e.createElement(d,{as:l.rU,to:"/auth/providers"},e.createElement("span",{"aria-hidden":!0},"\u2022\u2022\u2022"))))):e.createElement(L,{justifyContent:"center"},s.map(n=>e.createElement(a,{key:n.uid,provider:n})))};_.defaultProps={displayAllProviders:!0},_.propTypes={providers:i().arrayOf(i().object).isRequired,displayAllProviders:i().bool},g.Z=_}}]);
