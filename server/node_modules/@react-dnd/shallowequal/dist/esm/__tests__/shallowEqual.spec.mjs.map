{"version":3,"sources":["../../../src/__tests__/shallowEqual.spec.ts"],"sourcesContent":["import { shallowEqual } from '../index'\n\ndescribe('shallowequal', function () {\n\t// eslint-disable-next-line no-sparse-arrays\n\tconst falsey = [, '', 0, false, NaN, null, undefined]\n\n\t// test cases copied from https://github.com/facebook/fbjs/blob/82247de1c33e6f02a199778203643eaee16ea4dc/src/core/__tests__/shallowEqual-test.js\n\tit('returns false if either argument is null', () => {\n\t\texpect(shallowEqual(null, {})).toEqual(false)\n\t\texpect(shallowEqual({}, null)).toEqual(false)\n\t})\n\n\tit('returns true if both arguments are null or undefined', () => {\n\t\texpect(shallowEqual(null, null)).toEqual(true)\n\t\texpect(shallowEqual(undefined, undefined)).toEqual(true)\n\t})\n\n\tit('returns true if arguments are shallow equal', () => {\n\t\texpect(shallowEqual({ a: 1, b: 2, c: 3 }, { a: 1, b: 2, c: 3 })).toEqual(\n\t\t\ttrue,\n\t\t)\n\t})\n\n\tit('returns false if arguments are not objects and not equal', () => {\n\t\texpect(shallowEqual(1, 2)).toEqual(false)\n\t})\n\n\tit('returns false if only one argument is not an object', () => {\n\t\texpect(shallowEqual<any>(1, {})).toEqual(false)\n\t})\n\n\tit('returns false if first argument has too many keys', () => {\n\t\texpect(shallowEqual({ a: 1, b: 2, c: 3 }, { a: 1, b: 2 })).toEqual(false)\n\t})\n\n\tit('returns false if second argument has too many keys', () => {\n\t\texpect(shallowEqual({ a: 1, b: 2 }, { a: 1, b: 2, c: 3 })).toEqual(false)\n\t})\n\n\tit('returns true if values are not primitives but are ===', () => {\n\t\tconst obj = {}\n\t\texpect(\n\t\t\tshallowEqual({ a: 1, b: 2, c: obj }, { a: 1, b: 2, c: obj }),\n\t\t).toEqual(true)\n\t})\n\n\t// subsequent test cases are copied from lodash tests\n\tit('returns false if arguments are not shallow equal', () => {\n\t\texpect(shallowEqual({ a: 1, b: 2, c: {} }, { a: 1, b: 2, c: {} })).toEqual(\n\t\t\tfalse,\n\t\t)\n\t})\n\n\tit('should provide the correct `customizer` arguments', () => {\n\t\tconst argsList: any[] = []\n\t\tconst arry = [1, 2]\n\t\tconst object1: any = { a: arry, b: null }\n\t\tconst object2: any = { a: arry, b: null }\n\n\t\tobject1.b = object2\n\t\tobject2.b = object1\n\n\t\tconst expected = [\n\t\t\t[object1, object2],\n\t\t\t[object1.a, object2.a, 'a'],\n\t\t\t[object1.b, object2.b, 'b'],\n\t\t]\n\n\t\tshallowEqual(object1, object2, function (...args) {\n\t\t\targsList.push(args)\n\t\t})\n\n\t\texpect(argsList).toEqual(expected)\n\t})\n\n\tit('should set the `this` binding', () => {\n\t\tconst actual = shallowEqual(\n\t\t\t'a',\n\t\t\t'b',\n\t\t\tfunction compare(this: any, a, b) {\n\t\t\t\treturn this[a] === this[b]\n\t\t\t},\n\t\t\t{ a: 1, b: 1 },\n\t\t)\n\n\t\texpect(actual).toEqual(true)\n\t})\n\n\tit('should handle comparisons if `customizer` returns `undefined`', () => {\n\t\tconst noop = () => void 0\n\n\t\texpect(shallowEqual('a', 'a', noop)).toEqual(true)\n\t\texpect(shallowEqual(['a'], ['a'], noop)).toEqual(true)\n\t\texpect(shallowEqual({ '0': 'a' }, { '0': 'a' }, noop)).toEqual(true)\n\t})\n\n\tit('should not handle comparisons if `customizer` returns `true`', () => {\n\t\tconst customizer = (value: any) => typeof value === 'string' || undefined\n\n\t\texpect(shallowEqual('a', 'b', customizer)).toEqual(true)\n\t\texpect(shallowEqual(['a'], ['b'], customizer)).toEqual(true)\n\t\texpect(shallowEqual({ '0': 'a' }, { '0': 'b' }, customizer)).toEqual(true)\n\t})\n\n\tit('should not handle comparisons if `customizer` returns `false`', () => {\n\t\tconst customizer = (value: any) =>\n\t\t\ttypeof value === 'string' ? false : undefined\n\t\texpect(shallowEqual('a', 'a', customizer)).toEqual(false)\n\t\texpect(shallowEqual(['a'], ['a'], customizer)).toEqual(false)\n\t\texpect(shallowEqual({ '0': 'a' }, { '0': 'a' }, customizer)).toEqual(false)\n\t})\n\n\tit('should return a boolean value even if `customizer` does not', () => {\n\t\tconst actual = shallowEqual('a', 'b', () => 'c' as any)\n\t\texpect(actual).toEqual(true)\n\n\t\tconst values = falsey.filter((v) => v !== undefined)\n\t\tconst expected = values.map(() => false)\n\n\t\tconst result: boolean[] = []\n\t\tvalues.forEach((value) => {\n\t\t\tresult.push(shallowEqual('a', 'a', () => value as any))\n\t\t})\n\n\t\texpect(result).toEqual(expected)\n\t})\n\n\tit('should treat objects created by `Object.create(null)` like any other plain object', () => {\n\t\tclass Foo {\n\t\t\tpublic a = 1\n\t\t}\n\n\t\tconst object2 = { a: 1 }\n\t\texpect(shallowEqual(new Foo(), object2)).toEqual(true)\n\n\t\tconst object1 = Object.create(null)\n\t\tobject1.a = 1\n\t\texpect(shallowEqual(object1, object2)).toEqual(true)\n\t})\n})\n"],"names":["shallowEqual","describe","falsey","NaN","undefined","it","expect","toEqual","a","b","c","obj","argsList","arry","object1","object2","expected","args","push","actual","compare","noop","customizer","value","values","filter","v","map","result","forEach","Foo","Object","create"],"mappings":"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"}