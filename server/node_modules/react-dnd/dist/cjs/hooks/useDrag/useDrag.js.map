{"version":3,"sources":["../../../../src/hooks/useDrag/useDrag.ts"],"sourcesContent":["import type {\n\tConnectDragSource,\n\tConnectDragPreview,\n} from '../../types/index.js'\nimport type { DragSourceHookSpec, FactoryOrInstance } from '../types.js'\nimport { useRegisteredDragSource } from './useRegisteredDragSource.js'\nimport { useOptionalFactory } from '../useOptionalFactory.js'\nimport { useDragSourceMonitor } from './useDragSourceMonitor.js'\nimport { useDragSourceConnector } from './useDragSourceConnector.js'\nimport { useCollectedProps } from '../useCollectedProps.js'\nimport { useConnectDragPreview, useConnectDragSource } from './connectors.js'\nimport { invariant } from '@react-dnd/invariant'\n\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\nexport function useDrag<\n\tDragObject = unknown,\n\tDropResult = unknown,\n\tCollectedProps = unknown,\n>(\n\tspecArg: FactoryOrInstance<\n\t\tDragSourceHookSpec<DragObject, DropResult, CollectedProps>\n\t>,\n\tdeps?: unknown[],\n): [CollectedProps, ConnectDragSource, ConnectDragPreview] {\n\tconst spec = useOptionalFactory(specArg, deps)\n\tinvariant(\n\t\t!(spec as any).begin,\n\t\t`useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)`,\n\t)\n\n\tconst monitor = useDragSourceMonitor<DragObject, DropResult>()\n\tconst connector = useDragSourceConnector(spec.options, spec.previewOptions)\n\tuseRegisteredDragSource(spec, monitor, connector)\n\n\treturn [\n\t\tuseCollectedProps(spec.collect, monitor, connector),\n\t\tuseConnectDragSource(connector),\n\t\tuseConnectDragPreview(connector),\n\t]\n}\n"],"names":["useDrag","specArg","deps","spec","useOptionalFactory","invariant","begin","monitor","useDragSourceMonitor","connector","useDragSourceConnector","options","previewOptions","useRegisteredDragSource","useCollectedProps","collect","useConnectDragSource","useConnectDragPreview"],"mappings":"AAAA;;;;QAkBgBA,OAAO,GAAPA,OAAO;AAbiB,IAAA,0BAA8B,WAA9B,8BAA8B,CAAA;AACnC,IAAA,qBAA0B,WAA1B,0BAA0B,CAAA;AACxB,IAAA,uBAA2B,WAA3B,2BAA2B,CAAA;AACzB,IAAA,yBAA6B,WAA7B,6BAA6B,CAAA;AAClC,IAAA,oBAAyB,WAAzB,yBAAyB,CAAA;AACC,IAAA,aAAiB,WAAjB,iBAAiB,CAAA;AACnD,IAAA,UAAsB,WAAtB,sBAAsB,CAAA;AAOzC,SAASA,OAAO,CAKtBC,OAEC,EACDC,IAAgB,EAC0C;IAC1D,MAAMC,IAAI,GAAGC,CAAAA,GAAAA,qBAAkB,AAAe,CAAA,mBAAf,CAACH,OAAO,EAAEC,IAAI,CAAC;IAC9CG,CAAAA,GAAAA,UAAS,AAGR,CAAA,UAHQ,CACR,CAAC,AAACF,IAAI,CAASG,KAAK,EACpB,CAAC,2JAA2J,CAAC,CAC7J;IAED,MAAMC,OAAO,GAAGC,CAAAA,GAAAA,uBAAoB,AAA0B,CAAA,qBAA1B,EAA0B;IAC9D,MAAMC,SAAS,GAAGC,CAAAA,GAAAA,yBAAsB,AAAmC,CAAA,uBAAnC,CAACP,IAAI,CAACQ,OAAO,EAAER,IAAI,CAACS,cAAc,CAAC;IAC3EC,CAAAA,GAAAA,0BAAuB,AAA0B,CAAA,wBAA1B,CAACV,IAAI,EAAEI,OAAO,EAAEE,SAAS,CAAC;IAEjD,OAAO;QACNK,CAAAA,GAAAA,oBAAiB,AAAkC,CAAA,kBAAlC,CAACX,IAAI,CAACY,OAAO,EAAER,OAAO,EAAEE,SAAS,CAAC;QACnDO,CAAAA,GAAAA,aAAoB,AAAW,CAAA,qBAAX,CAACP,SAAS,CAAC;QAC/BQ,CAAAA,GAAAA,aAAqB,AAAW,CAAA,sBAAX,CAACR,SAAS,CAAC;KAChC,CAAA;CACD"}