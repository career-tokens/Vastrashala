{"version":3,"sources":["../../../../src/hooks/useDrag/useDragSourceConnector.ts"],"sourcesContent":["import { useMemo } from 'react'\nimport { SourceConnector } from '../../internals/index.js'\nimport type {\n\tDragPreviewOptions,\n\tDragSourceOptions,\n} from '../../types/index.js'\nimport { useDragDropManager } from '../useDragDropManager.js'\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect.js'\n\nexport function useDragSourceConnector(\n\tdragSourceOptions: DragSourceOptions | undefined,\n\tdragPreviewOptions: DragPreviewOptions | undefined,\n): SourceConnector {\n\tconst manager = useDragDropManager()\n\tconst connector = useMemo(\n\t\t() => new SourceConnector(manager.getBackend()),\n\t\t[manager],\n\t)\n\tuseIsomorphicLayoutEffect(() => {\n\t\tconnector.dragSourceOptions = dragSourceOptions || null\n\t\tconnector.reconnect()\n\t\treturn () => connector.disconnectDragSource()\n\t}, [connector, dragSourceOptions])\n\tuseIsomorphicLayoutEffect(() => {\n\t\tconnector.dragPreviewOptions = dragPreviewOptions || null\n\t\tconnector.reconnect()\n\t\treturn () => connector.disconnectDragPreview()\n\t}, [connector, dragPreviewOptions])\n\treturn connector\n}\n"],"names":["useDragSourceConnector","dragSourceOptions","dragPreviewOptions","manager","useDragDropManager","connector","useMemo","SourceConnector","getBackend","useIsomorphicLayoutEffect","reconnect","disconnectDragSource","disconnectDragPreview"],"mappings":"AAAA;;;;QASgBA,sBAAsB,GAAtBA,sBAAsB;AATd,IAAA,MAAO,WAAP,OAAO,CAAA;AACC,IAAA,QAA0B,WAA1B,0BAA0B,CAAA;AAKvB,IAAA,qBAA0B,WAA1B,0BAA0B,CAAA;AACnB,IAAA,4BAAiC,WAAjC,iCAAiC,CAAA;AAEpE,SAASA,sBAAsB,CACrCC,iBAAgD,EAChDC,kBAAkD,EAChC;IAClB,MAAMC,OAAO,GAAGC,CAAAA,GAAAA,qBAAkB,AAAE,CAAA,mBAAF,EAAE;IACpC,MAAMC,SAAS,GAAGC,CAAAA,GAAAA,MAAO,AAGxB,CAAA,QAHwB,CACxB,IAAM,IAAIC,QAAe,gBAAA,CAACJ,OAAO,CAACK,UAAU,EAAE,CAAC;IAAA,EAC/C;QAACL,OAAO;KAAC,CACT;IACDM,CAAAA,GAAAA,4BAAyB,AAIS,CAAA,0BAJT,CAAC,IAAM;QAC/BJ,SAAS,CAACJ,iBAAiB,GAAGA,iBAAiB,IAAI,IAAI;QACvDI,SAAS,CAACK,SAAS,EAAE;QACrB,OAAO,IAAML,SAAS,CAACM,oBAAoB,EAAE;QAAA,CAAA;KAC7C,EAAE;QAACN,SAAS;QAAEJ,iBAAiB;KAAC,CAAC;IAClCQ,CAAAA,GAAAA,4BAAyB,AAIU,CAAA,0BAJV,CAAC,IAAM;QAC/BJ,SAAS,CAACH,kBAAkB,GAAGA,kBAAkB,IAAI,IAAI;QACzDG,SAAS,CAACK,SAAS,EAAE;QACrB,OAAO,IAAML,SAAS,CAACO,qBAAqB,EAAE;QAAA,CAAA;KAC9C,EAAE;QAACP,SAAS;QAAEH,kBAAkB;KAAC,CAAC;IACnC,OAAOG,SAAS,CAAA;CAChB"}