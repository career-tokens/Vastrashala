(self.webpackChunk_strapi_admin=self.webpackChunk_strapi_admin||[]).push([[3929],{61234:function(x,m,e){"use strict";e.d(m,{v:function(){return a}});var t=e(32735),r=e(15062);function a(d,u){const o=(0,r.oR)();(0,t.useEffect)(()=>{o.injectReducer(d,u)},[o,d,u])}},50337:function(x,m,e){"use strict";e.d(m,{pl:function(){return c},aY:function(){return P},q5:function(){return s.q}});var t=e(32735),r=e(19565),a=e(97889);const d={data:[],isLoading:!0};var o=(w,R)=>(0,a.ZP)(w,M=>{switch(R.type){case"GET_DATA_SUCCEEDED":{M.data=R.data,M.isLoading=!1;break}case"GET_DATA_ERROR":{M.isLoading=!1;break}default:return M}}),c=({ssoEnabled:w})=>{const[R,M]=(0,t.useReducer)(o,d),E=(0,r.lm)(),{get:T}=(0,r.kY)();return(0,t.useEffect)(()=>{(async()=>{try{if(!w){M({type:"GET_DATA_SUCCEEDED",data:[]});return}const{data:C}=await T("/admin/providers");M({type:"GET_DATA_SUCCEEDED",data:C})}catch(C){console.error(C),M({type:"GET_DATA_ERROR"}),E({type:"warning",message:{id:"notification.error"}})}})()},[T,w,E]),R},i=e(36866),n=e.n(i),g=e(67879),p=e(53038),s=e(53104);const l="strapi-notification-seat-limit",v="https://cloud.strapi.io/profile/billing",O="https://strapi.io/billing/request-seats";var P=()=>{const{formatMessage:w}=(0,g.Z)();let{license:R,isError:M,isLoading:E}=(0,s.q)();const T=(0,r.lm)(),{pathname:f}=(0,p.TH)(),{enforcementUserCount:C,permittedSeats:L,licenseLimitStatus:I,isHostedOnStrapiCloud:$}=R;(0,t.useEffect)(()=>{if(M||E)return;const j=!n()(L)&&!window.sessionStorage.getItem(`${l}-${f}`)&&(I==="AT_LIMIT"||I==="OVER_LIMIT");let W;I==="OVER_LIMIT"?W="warning":I==="AT_LIMIT"&&(W="softWarning"),j&&T({type:W,message:w({id:"notification.ee.warning.over-.message",defaultMessage:"Add seats to {licenseLimitStatus, select, OVER_LIMIT {invite} other {re-enable}} Users. If you already did it but it's not reflected in Strapi yet, make sure to restart your app."},{licenseLimitStatus:I}),title:w({id:"notification.ee.warning.at-seat-limit.title",defaultMessage:"{licenseLimitStatus, select, OVER_LIMIT {Over} other {At}} seat limit ({enforcementUserCount}/{permittedSeats})"},{licenseLimitStatus:I,enforcementUserCount:C,permittedSeats:L}),link:{url:$?v:O,label:w({id:"notification.ee.warning.seat-limit.link",defaultMessage:"{isHostedOnStrapiCloud, select, true {ADD SEATS} other {CONTACT SALES}}"},{isHostedOnStrapiCloud:$})},blockTransition:!0,onClose(){window.sessionStorage.setItem(`${l}-${f}`,!0)}})},[T,R,f,w,E,L,I,C,$,M])}},53104:function(x,m,e){"use strict";e.d(m,{q:function(){return d}});var t=e(32735),r=e(19565),a=e(20108);function d({enabled:u}={enabled:!0}){const{get:o}=(0,r.kY)(),{data:y,isError:c,isLoading:i}=(0,a.useQuery)(["ee","license-limit-info"],async()=>{const{data:{data:p}}=await o("/admin/license-limit-information");return p},{enabled:u}),n=y??{},g=t.useCallback(p=>(n?.features??[]).find(l=>l.name===p)?.options??{},[n?.features]);return{license:n,getFeature:g,isError:c,isLoading:i}}},77061:function(x,m,e){"use strict";e.d(m,{CI:function(){return d},FP:function(){return o},Js:function(){return c},_V:function(){return a},fC:function(){return r},rI:function(){return y},xn:function(){return u}});var t=e(2121);function r({status:i,data:n}){return{type:t.qZ,payload:{status:i,workflow:n}}}function a(i){return{type:t.x4,payload:{stageId:i}}}function d(i={}){return{type:t.Ot,payload:i}}function u(i,n){return{type:t.Nj,payload:{stageId:i,...n}}}function o(i,n){return{type:t.$k,payload:{newIndex:n,oldIndex:i}}}function y(i){return{type:t.VS,payload:i}}function c(){return{type:t.gu}}},27187:function(x,m,e){"use strict";e.d(m,{eJ:function(){return E},lx:function(){return R},h4:function(){return T},fC:function(){return M}});var t=e(32735),r=e(96709),a=e(27649),d=e(17e3),u=e(82055),o=e(19565),y=e(29439),c=e(67879),i=e(17379),n=e(2121),g=e(87933),p=e(49372),s=e(16899),l=e(60216),v=e.n(l),O=e(8471);const A=(0,O.ZP)(g.k)`
  svg path {
    fill: ${({theme:f})=>f.colors.neutral600};
  }
`;function P({name:f}){return t.createElement(g.k,{background:"primary100",borderStyle:"dashed",borderColor:"primary600",borderWidth:"1px",gap:3,hasRadius:!0,padding:3,shadow:"tableShadow",width:(0,o.Q1)(300)},t.createElement(A,{alignItems:"center",background:"neutral200",borderRadius:"50%",height:6,justifyContent:"center",width:6},t.createElement(s.Z,{width:`${8/16}rem`})),t.createElement(p.Z,{fontWeight:"bold"},f))}P.propTypes={name:v().string.isRequired};function w({type:f,item:C}){switch(f){case n.uL.STAGE:return t.createElement(P,{...C});default:return null}}function R(){return t.createElement(i.r,{renderItem:w})}function M({children:f}){return t.createElement(r.A,null,t.createElement(a.o,{tabIndex:-1},t.createElement(d.D,null,f)))}function E({href:f}){const{formatMessage:C}=(0,c.Z)();return t.createElement(o.rU,{startIcon:t.createElement(y.Z,null),to:f},C({id:"global.back",defaultMessage:"Back"}))}function T({title:f,subtitle:C,navigationAction:L,primaryAction:I}){return t.createElement(t.Fragment,null,t.createElement(o.SL,{name:f}),t.createElement(u.T,{navigationAction:L,primaryAction:I,title:f,subtitle:C}))}},90562:function(x,m,e){"use strict";e.d(m,{uT:function(){return w},fC:function(){return E},Dx:function(){return P}});var t=e(32735),r=e(49372),a=e(87933),d=e(85025),u=e(31600),o=e(72850),y=e(50563),c=e(95489),i=e(35331),n=e(60216),g=e.n(n),p=e(67879),s=e(8471),l=e.p+"0cd5f8915b265d5b1856.png";const v="limits-title",O="https://strapi.io/pricing-cloud",A="https://strapi.io/contact-sales";function P({children:T}){return t.createElement(r.Z,{variant:"alpha",id:v},T)}P.propTypes={children:g().node.isRequired};function w({children:T}){return t.createElement(r.Z,{variant:"omega"},T)}w.propTypes={children:g().node.isRequired};function R(){const{formatMessage:T}=(0,p.Z)();return t.createElement(a.k,{gap:2,paddingTop:4},t.createElement(c.Q,{variant:"default",isExternal:!0,href:O},T({id:"Settings.review-workflows.limit.cta.learn",defaultMessage:"Learn more"})),t.createElement(c.Q,{variant:"tertiary",isExternal:!0,href:A},T({id:"Settings.review-workflows.limit.cta.sales",defaultMessage:"Contact Sales"})))}const M=s.ZP.img`
  // Margin top|right reverse the padding of ModalBody
  margin-right: ${({theme:T})=>`-${T.spaces[7]}`};
  margin-top: ${({theme:T})=>`-${T.spaces[7]}`};
  width: 360px;
`;function E({children:T,isOpen:f,onClose:C}){const{formatMessage:L}=(0,p.Z)();return f?t.createElement(d.P,{labelledBy:v},t.createElement(u.f,null,t.createElement(a.k,{gap:2,paddingLeft:7,position:"relative"},t.createElement(a.k,{alignItems:"start",direction:"column",gap:2,width:"60%"},T,t.createElement(R,null)),t.createElement(a.k,{justifyContent:"end",height:"100%",width:"40%"},t.createElement(M,{src:l,"aria-hidden":!0,alt:"",loading:"lazy"}),t.createElement(o.x,{display:"flex",position:"absolute",right:0,top:0},t.createElement(y.h,{icon:t.createElement(i.Z,null),"aria-label":L({id:"global.close",defaultMessage:"Close"}),onClick:C})))))):null}E.defaultProps={isOpen:!1},E.propTypes={children:g().node.isRequired,isOpen:g().bool,onClose:g().func.isRequired}},45594:function(x,m,e){"use strict";e.d(m,{U:function(){return b}});var t=e(32735),r=e(72850),a=e(87933),d=e(19565),u=e(60216),o=e.n(u),y=e(67879),c=e(15062),i=e(8471),n=e(77061),g=e(49372),p=e(86308);const s=(0,i.ZP)(p.Z)`
  > circle {
    fill: ${({theme:h})=>h.colors.neutral150};
  }
  > path {
    fill: ${({theme:h})=>h.colors.neutral600};
  }
`,l=(0,i.ZP)(r.x)`
  border-radius: 26px;

  svg {
    height: ${({theme:h})=>h.spaces[6]};
    width: ${({theme:h})=>h.spaces[6]};

    > path {
      fill: ${({theme:h})=>h.colors.neutral600};
    }
  }

  &:hover {
    color: ${({theme:h})=>h.colors.primary600} !important;
    ${g.Z} {
      color: ${({theme:h})=>h.colors.primary600} !important;
    }

    ${s} {
      > circle {
        fill: ${({theme:h})=>h.colors.primary600};
      }
      > path {
        fill: ${({theme:h})=>h.colors.neutral100};
      }
    }
  }

  &:active {
    ${g.Z} {
      color: ${({theme:h})=>h.colors.primary600};
    }

    ${s} {
      > circle {
        fill: ${({theme:h})=>h.colors.primary600};
      }
      > path {
        fill: ${({theme:h})=>h.colors.neutral100};
      }
    }
  }
`;function v({children:h,...B}){return t.createElement(l,{as:"button",background:"neutral0",border:"neutral150",paddingBottom:3,paddingLeft:4,paddingRight:4,paddingTop:3,shadow:"filterShadow",...B},t.createElement(a.k,{gap:2},t.createElement(s,{"aria-hidden":!0}),t.createElement(g.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral500"},h)))}v.propTypes={children:o().node.isRequired};var O=e(3685),A=e(83828),P=e(61762),w=e(50563),R=e(89966),M=e(15335),E=e(5803),T=e(10369),f=e(77035),C=e(4038),L=e(47081),I=e(92802),$=e(51968),j=e(69242),W=e(69997),F=e(2121),N=e(68886);const H=(0,N.s)();function S(){return t.createElement(r.x,{background:"primary100",borderStyle:"dashed",borderColor:"primary600",borderWidth:"1px",display:"block",hasRadius:!0,padding:6,shadow:"tableShadow"})}function k({id:h,index:B,canDelete:K,canReorder:ee,canUpdate:V,isOpen:te=!1,stagesCount:z}){const Y=D=>`${D+1} of ${z}`,Q=D=>{J(U({id:"dnd.grab-item",defaultMessage:"{item}, grabbed. Current position in list: {position}. Press up and down arrow to change position, Spacebar to drop, Escape to cancel."},{item:Z.value,position:Y(D)}))},le=D=>{J(U({id:"dnd.drop-item",defaultMessage:"{item}, dropped. Final position in list: {position}."},{item:Z.value,position:Y(D)}))},de=()=>{J(U({id:"dnd.cancel-item",defaultMessage:"{item}, dropped. Re-order cancelled."},{item:Z.value}))},ce=(D,X)=>{J(U({id:"dnd.reorder",defaultMessage:"{item}, moved. New position in list: {position}."},{item:Z.value,position:Y(D)})),q((0,n.FP)(X,D))},[ae,J]=t.useState(null),{formatMessage:U}=(0,y.Z)(),{trackUsage:ue}=(0,d.rS)(),q=(0,c.I0)(),[ne,me]=t.useState(te),[Z,re,fe]=(0,I.U$)(`stages.${B}.name`),[_,oe,ge]=(0,I.U$)(`stages.${B}.color`),[{handlerId:pe,isDragging:ve,handleKeyDown:he},Ee,ye,Te,se]=(0,j.Y9)(ee,{index:B,item:{name:Z.value},onGrabItem:Q,onDropItem:le,onMoveItem:ce,onCancel:de,type:F.uL.STAGE}),Se=(0,W.FE)(Ee,ye),we=H.map(({hex:D,name:X})=>({value:D,label:U({id:"Settings.review-workflows.stage.color.name",defaultMessage:"{name}"},{name:X}),color:D}));t.useEffect(()=>{se((0,$.rX)(),{captureDraggingState:!1})},[se,B]);const{themeColorName:Me}=(0,N.k)(_.value)??{};return t.createElement(r.x,{ref:Se},ae&&t.createElement(O.T,{"aria-live":"assertive"},ae),ve?t.createElement(S,null):t.createElement(A.U,{size:"S",variant:"primary",onToggle:()=>{me(!ne),ne||ue("willEditStage")},expanded:ne,shadow:"tableShadow",error:re.error??oe?.error??!1,hasErrorMessage:!1},t.createElement(P.B,{title:Z.value,togglePosition:"left",action:(K||V)&&t.createElement(a.k,null,K&&t.createElement(w.h,{background:"transparent",icon:t.createElement(C.Z,null),label:U({id:"Settings.review-workflows.stage.delete",defaultMessage:"Delete stage"}),noBorder:!0,onClick:()=>q((0,n._V)(h))}),V&&t.createElement(w.h,{background:"transparent",forwardedAs:"div",role:"button",noBorder:!0,tabIndex:0,"data-handler-id":pe,ref:Te,label:U({id:"Settings.review-workflows.stage.drag",defaultMessage:"Drag"}),onClick:D=>D.stopPropagation(),onKeyDown:he},t.createElement(L.Z,null)))}),t.createElement(R.v,{padding:6,background:"neutral0",hasRadius:!0},t.createElement(M.r,{gap:4},t.createElement(E.P,{col:6},t.createElement(T.o,{...Z,id:Z.name,disabled:!V,label:U({id:"Settings.review-workflows.stage.name.label",defaultMessage:"Stage name"}),error:re.error??!1,onChange:D=>{fe.setValue(D.target.value),q((0,n.xn)(h,{name:D.target.value}))},required:!0})),t.createElement(E.P,{col:6},t.createElement(f.q4,{disabled:!V,error:oe?.error??!1,id:_.name,required:!0,label:U({id:"content-manager.reviewWorkflows.stage.color",defaultMessage:"Color"}),onChange:D=>{ge.setValue(D),q((0,n.xn)(h,{color:D}))},value:_.value.toUpperCase(),startIcon:t.createElement(a.k,{as:"span",height:2,background:_.value,borderColor:Me==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2})},we.map(({value:D,label:X,color:ie})=>{const{themeColorName:xe}=(0,N.k)(ie);return t.createElement(f.ag,{value:D,key:D,startIcon:t.createElement(a.k,{as:"span",height:2,background:ie,borderColor:xe==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2})},X)})))))))}k.propTypes=o().shape({id:o().number.isRequired,color:o().string.isRequired,canDelete:o().bool.isRequired,canReorder:o().bool.isRequired,canUpdate:o().bool.isRequired,stagesCount:o().number.isRequired}).isRequired;const G=(0,i.ZP)(r.x)`
  transform: translateX(-50%);
`;function b({canDelete:h,canUpdate:B,stages:K}){const{formatMessage:ee}=(0,y.Z)(),V=(0,c.I0)(),{trackUsage:te}=(0,d.rS)();return t.createElement(a.k,{direction:"column",gap:6,width:"100%"},t.createElement(r.x,{position:"relative",spacing:4,width:"100%"},t.createElement(G,{background:"neutral200",height:"100%",left:"50%",position:"absolute",top:"0",width:2,zIndex:1}),t.createElement(a.k,{direction:"column",alignItems:"stretch",gap:6,zIndex:2,position:"relative",as:"ol"},K.map((z,Y)=>{const Q=z?.id??z.__temp_key__;return t.createElement(r.x,{key:`stage-${Q}`,as:"li"},t.createElement(k,{id:Q,index:Y,isOpen:!z.id,canDelete:K.length>1&&h,canReorder:K.length>1,canUpdate:B,stagesCount:K.length}))}))),B&&t.createElement(v,{type:"button",onClick:()=>{V((0,n.CI)({name:""})),te("willCreateStage")}},ee({id:"Settings.review-workflows.stage.add",defaultMessage:"Add new stage"})))}b.defaultProps={canDelete:!0,canUpdate:!0,stages:[]},b.propTypes={canDelete:o().bool,canUpdate:o().bool,stages:o().arrayOf(o().shape({id:o().number,__temp_key__:o().number,name:o().string.isRequired}))}},165:function(x,m,e){"use strict";e.d(m,{Y:function(){return A}});var t=e(32735),r=e(6407),a=e(49372),d=e(15335),u=e(5803),o=e(10369),y=e(19565),c=e(92802),i=e(60216),n=e.n(i),g=e(67879),p=e(15062),s=e(8471),l=e(77061);const v=(0,s.ZP)(r.ML)`
  padding-left: ${({theme:w})=>w.spaces[7]};
`,O=(0,s.ZP)(a.Z)`
  font-style: italic;
`;function A({canUpdate:w,contentTypes:{collectionTypes:R,singleTypes:M},currentWorkflow:E,workflows:T}){const{formatMessage:f,locale:C}=(0,g.Z)(),L=(0,p.I0)(),[I,$,j]=(0,c.U$)("name"),[W,F,N]=(0,c.U$)("contentTypes"),H=(0,y.Xe)(C,{sensitivity:"base"});return t.createElement(d.r,{background:"neutral0",hasRadius:!0,gap:4,padding:6,shadow:"tableShadow"},t.createElement(u.P,{col:6},t.createElement(o.o,{...I,id:I.name,disabled:!w,label:f({id:"Settings.review-workflows.workflow.name.label",defaultMessage:"Workflow Name"}),error:$.error??!1,onChange:S=>{L((0,l.rI)({name:S.target.value})),j.setValue(S.target.value)},required:!0})),t.createElement(u.P,{col:6},t.createElement(r.NU,{...W,customizeContent:S=>f({id:"Settings.review-workflows.workflow.contentTypes.displayValue",defaultMessage:"{count} {count, plural, one {content type} other {content types}} selected"},{count:S.length}),disabled:!w,error:F.error??!1,id:W.name,label:f({id:"Settings.review-workflows.workflow.contentTypes.label",defaultMessage:"Associated to"}),onChange:S=>{L((0,l.rI)({contentTypes:S})),N.setValue(S)},placeholder:f({id:"Settings.review-workflows.workflow.contentTypes.placeholder",defaultMessage:"Select"})},[...R.length>0?[{label:f({id:"Settings.review-workflows.workflow.contentTypes.collectionTypes.label",defaultMessage:"Collection Types"}),children:R.sort((S,k)=>H.compare(S.info.displayName,k.info.displayName)).map(S=>({label:S.info.displayName,value:S.uid}))}]:[],...M.length>0?[{label:f({id:"Settings.review-workflows.workflow.contentTypes.singleTypes.label",defaultMessage:"Single Types"}),children:M.map(S=>({label:S.info.displayName,value:S.uid}))}]:[]].map(S=>"children"in S?t.createElement(r.Ab,{key:S.label,label:S.label,values:S.children.map(k=>k.value.toString())},S.children.map(k=>{const{name:G}=T.find(b=>(E&&b.id!==E.id||!E)&&b.contentTypes.includes(k.value))??{};return t.createElement(v,{key:k.value,value:k.value},f({id:"Settings.review-workflows.workflow.contentTypes.assigned.notice",defaultMessage:"{label} {name, select, undefined {} other {<i>(assigned to <em>{name}</em> workflow)</i>}}"},{label:k.label,name:G,em:(...b)=>t.createElement(a.Z,{as:"em",fontWeight:"bold"},b),i:(...b)=>t.createElement(O,null,b)}))})):t.createElement(r.ML,{key:S.value,value:S.value},S.label)))))}const P=n().shape({uid:n().string.isRequired,info:n().shape({displayName:n().string.isRequired}).isRequired});A.defaultProps={canUpdate:!0,currentWorkflow:void 0},A.propTypes={canUpdate:n().bool,contentTypes:n().shape({collectionTypes:n().arrayOf(P).isRequired,singleTypes:n().arrayOf(P).isRequired}).isRequired,currentWorkflow:n().object,workflows:n().array.isRequired}},2121:function(x,m,e){"use strict";e.d(m,{$k:function(){return c},Ef:function(){return s},FT:function(){return g},Nj:function(){return y},Ot:function(){return o},VS:function(){return i},_X:function(){return l},gu:function(){return a},lv:function(){return n},qZ:function(){return d},sN:function(){return r},uL:function(){return p},x4:function(){return u}});var t=e(12301);const r="settings_review-workflows",a="Settings/Review_Workflows/RESET_WORKFLOW",d="Settings/Review_Workflows/SET_WORKFLOW",u="Settings/Review_Workflows/WORKFLOW_DELETE_STAGE",o="Settings/Review_Workflows/WORKFLOW_ADD_STAGE",y="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE",c="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE_POSITION",i="Settings/Review_Workflows/WORKFLOW_UPDATE",n={primary600:"Blue",primary200:"Lilac",alternative600:"Violet",alternative200:"Lavender",success600:"Green",success200:"Pale Green",danger500:"Cherry",danger200:"Pink",warning600:"Orange",warning200:"Yellow",secondary600:"Teal",secondary200:"Baby Blue",neutral400:"Gray",neutral0:"White"},g=t.W.colors.primary600,p={STAGE:"stage"},s="numberOfWorkflows",l="stagesPerWorkflow"},32329:function(x,m,e){"use strict";e.d(m,{n:function(){return a}});var t=e(19565),r=e(20108);function a(d={}){const{get:u}=(0,t.kY)(),{id:o="",...y}=d,c={populate:"stages"},{data:i,isLoading:n,status:g,refetch:p}=(0,r.useQuery)(["review-workflows","workflows",o],async()=>(await u(`/admin/review-workflows/workflows/${o}`,{params:{...c,...y}})).data);let s=[];return o&&i?.data?s=[i.data]:Array.isArray(i?.data)&&(s=i.data),{meta:i?.meta??{},workflows:s,isLoading:n,status:g,refetch:p}}},79989:function(x,m,e){"use strict";e.d(m,{E:function(){return u},I:function(){return o}});var t=e(97889),r=e(89793),a=e.n(r),d=e(2121);const u={status:"loading",serverState:{workflow:null},clientState:{currentWorkflow:{data:{name:"",contentTypes:[],stages:[]},isDirty:!1,hasDeletedServerStages:!1}}};function o(c=u,i){return(0,t.Uy)(c,n=>{const{payload:g}=i;switch(i.type){case d.qZ:{const{status:p,workflow:s}=g;n.status=p,s&&(n.serverState.workflow=s,n.clientState.currentWorkflow.data={...s,stages:s.stages.map(l=>({...l,color:l?.color??d.FT}))}),n.clientState.currentWorkflow.hasDeletedServerStages=!1;break}case d.gu:{n.clientState.currentWorkflow.data=u.clientState.currentWorkflow.data,n.serverState=u.serverState;break}case d.x4:{const{stageId:p}=g,{currentWorkflow:s}=c.clientState;n.clientState.currentWorkflow.data.stages=s.data.stages.filter(l=>(l?.id??l.__temp_key__)!==p),s.hasDeletedServerStages||(n.clientState.currentWorkflow.hasDeletedServerStages=!!(c.serverState.workflow?.stages??[]).find(l=>l.id===p));break}case d.Ot:{const{currentWorkflow:p}=c.clientState;p.data||(n.clientState.currentWorkflow.data={stages:[]});const s=y(n.clientState.currentWorkflow.data.stages);n.clientState.currentWorkflow.data.stages.push({...g,color:g?.color??d.FT,__temp_key__:s});break}case d.Nj:{const{currentWorkflow:p}=c.clientState,{stageId:s,...l}=g;n.clientState.currentWorkflow.data.stages=p.data.stages.map(v=>(v.id??v.__temp_key__)===s?{...v,...l}:v);break}case d.$k:{const{currentWorkflow:{data:{stages:p}}}=c.clientState,{newIndex:s,oldIndex:l}=g;if(s>=0&&s<p.length){const v=p[l];let O=[...p];O.splice(l,1),O.splice(s,0,v),n.clientState.currentWorkflow.data.stages=O}break}case d.VS:{n.clientState.currentWorkflow.data={...n.clientState.currentWorkflow.data,...g};break}default:break}c.clientState.currentWorkflow.data&&n.serverState.workflow?n.clientState.currentWorkflow.isDirty=!a()((0,t.Vk)(n.clientState.currentWorkflow).data,n.serverState.workflow):n.clientState.currentWorkflow.isDirty=!0})}const y=(c=[])=>{const i=c.map(n=>n.id??n.__temp_key__);return Math.max(...i,-1)+1}},68886:function(x,m,e){"use strict";e.d(m,{k:function(){return a},s:function(){return d}});var t=e(12301),r=e(2121);function a(u){if(!u)return null;const y=Object.entries(t.W.colors).filter(([,c])=>c.toUpperCase()===u.toUpperCase()).reduce((c,[i])=>(r.lv?.[i]&&(c=i),c),null);return y?{themeColorName:y,name:r.lv[y]}:null}function d(){return Object.entries(r.lv).map(([u,o])=>({hex:t.W.colors[u].toUpperCase(),name:o}))}},82920:function(x,m,e){"use strict";e.d(m,{V:function(){return d}});var t=e(3040),r=e.n(t),a=e(24346);async function d({values:u,formatMessage:o}){const y=a.Ry({contentTypes:a.IX().of(a.Z_()),name:a.Z_().max(255,o({id:"Settings.review-workflows.validation.name.max-length",defaultMessage:"Name can not be longer than 255 characters"})).required(),stages:a.IX().of(a.Ry().shape({name:a.Z_().required(o({id:"Settings.review-workflows.validation.stage.name",defaultMessage:"Name is required"})).max(255,o({id:"Settings.review-workflows.validation.stage.max-length",defaultMessage:"Name can not be longer than 255 characters"})).test("unique-name",o({id:"Settings.review-workflows.validation.stage.duplicate",defaultMessage:"Stage name must be unique"}),function(c){const{options:{context:i}}=this;return i.stages.filter(n=>n.name===c).length===1}),color:a.Z_().required(o({id:"Settings.review-workflows.validation.stage.color",defaultMessage:"Color is required"})).matches(/^#(?:[0-9a-fA-F]{3}){1,2}$/i)})).min(1)});try{return await y.validate(u,{abortEarly:!1,context:u}),!0}catch(c){let i={};return c instanceof a.p8&&c.inner.forEach(n=>{r()(i,n.path,n.message)}),i}}},51355:function(x,m,e){var t=e(94318),r=e(3387),a="[object Boolean]";function d(u){return u===!0||u===!1||r(u)&&t(u)==a}x.exports=d},95919:function(x,m,e){var t=e(80022);function r(a){return t(a)&&a!=+a}x.exports=r},80022:function(x,m,e){var t=e(94318),r=e(3387),a="[object Number]";function d(u){return typeof u=="number"||r(u)&&t(u)==a}x.exports=d},83828:function(x,m,e){"use strict";e.d(m,{U:function(){return p},y:function(){return n}});var t=e(74512),r=e(32735),a=e(8471),d=e(91045),u=e(74971),o=e(49372),y=e(87933),c=e(72850);const i=({theme:s,expanded:l,variant:v,disabled:O,error:A})=>A?`1px solid ${s.colors.danger600} !important`:O?`1px solid ${s.colors.neutral150}`:l?`1px solid ${s.colors.primary600}`:v==="primary"?`1px solid ${s.colors.neutral0}`:`1px solid ${s.colors.neutral100}`,n=(0,a.ZP)(o.Z)``,g=(0,a.ZP)(c.x)`
  border: ${i};

  &:hover:not([aria-disabled='true']) {
    border: 1px solid ${({theme:s})=>s.colors.primary600};

    ${n} {
      color: ${({theme:s,expanded:l})=>l?void 0:s.colors.primary700};
    }

    ${o.Z} {
      color: ${({theme:s,expanded:l})=>l?void 0:s.colors.primary600};
    }

    & > ${y.k} {
      background: ${({theme:s})=>s.colors.primary100};
    }

    [data-strapi-dropdown='true'] {
      background: ${({theme:s})=>s.colors.primary200};
    }
  }
`,p=({children:s,disabled:l=!1,error:v,expanded:O=!1,hasErrorMessage:A=!0,id:P,onToggle:w,toggle:R,size:M="M",variant:E="primary",shadow:T})=>{const f=(0,u.M)(P),C=r.useMemo(()=>({expanded:O,onToggle:w,toggle:R,id:f,size:M,variant:E,disabled:l}),[l,O,f,w,M,R,E]);return(0,t.jsxs)(d.S.Provider,{value:C,children:[(0,t.jsx)(g,{"data-strapi-expanded":O,disabled:l,"aria-disabled":l,expanded:O,hasRadius:!0,variant:E,error:v,shadow:T,children:s}),v&&A&&(0,t.jsx)(c.x,{paddingTop:1,children:(0,t.jsx)(o.Z,{variant:"pi",textColor:"danger600",children:v})})]})}},89966:function(x,m,e){"use strict";e.d(m,{v:function(){return d}});var t=e(74512),r=e(91045),a=e(72850);const d=({children:u,...o})=>{const{expanded:y,id:c}=(0,r.A)();if(!y)return null;const i=`accordion-content-${c}`,n=`accordion-label-${c}`,g=`accordion-desc-${c}`;return(0,t.jsx)(a.x,{role:"region",id:i,"aria-labelledby":n,"aria-describedby":g,...o,children:u})}},91045:function(x,m,e){"use strict";e.d(m,{A:function(){return a},S:function(){return r}});var t=e(32735);const r=(0,t.createContext)({disabled:!1,expanded:!1,id:"",size:"M",variant:"primary"}),a=()=>(0,t.useContext)(r)},61762:function(x,m,e){"use strict";e.d(m,{B:function(){return s}});var t=e(74512),r=e(16899),a=e(8471),d=e(83828),u=e(91045);const o=({expanded:l,disabled:v,variant:O})=>{let A="neutral100";return l?A="primary100":v?A="neutral150":O==="primary"&&(A="neutral0"),A};var y=e(7563),c=e(99140),i=e(87933),n=e(49372);const g=(0,a.ZP)(y.A)`
  text-align: left;

  // necessary to make the ellipsis prop work on the title
  > span {
    max-width: 100%;
  }

  svg {
    width: ${14/16}rem;
    height: ${14/16}rem;

    path {
      fill: ${({theme:l,expanded:v})=>v?l.colors.primary600:l.colors.neutral500};
    }
  }
`,p=(0,a.ZP)(i.k)`
  min-height: ${({theme:l,size:v})=>l.sizes.accordions[v]};
  border-radius: ${({theme:l,expanded:v})=>v?`${l.borderRadius} ${l.borderRadius} 0 0`:l.borderRadius};

  &:hover {
    svg {
      path {
        fill: ${({theme:l})=>l.colors.primary600};
      }
    }
  }
`,s=({title:l,description:v,as:O="span",togglePosition:A="right",action:P,...w})=>{const{onToggle:R,toggle:M,expanded:E,id:T,size:f,variant:C,disabled:L}=(0,u.A)(),I=`accordion-content-${T}`,$=`accordion-label-${T}`,j=`accordion-desc-${T}`,W=f==="M"?6:4,F=f==="M"?W:W-2,N=o({expanded:E,disabled:L,variant:C}),H={as:O,fontWeight:f==="S"?"bold":void 0,id:$,textColor:E?"primary600":"neutral700",ellipsis:!0,variant:f==="M"?"delta":void 0},S=E?"primary600":"neutral600",k=E?"primary200":"neutral200",G=f==="M"?`${32/16}rem`:`${24/16}rem`,b=()=>{L||(M&&!R?(console.warn('Deprecation warning: Usage of "toggle" prop in Accordion component is deprecated. This is discouraged and will be removed in the next major release. Please use "onToggle" instead'),M()):R&&R())},h=(0,t.jsx)(i.k,{justifyContent:"center",borderRadius:"50%",height:G,width:G,transform:E?"rotate(180deg)":void 0,"data-strapi-dropdown":!0,"aria-hidden":!0,as:"span",background:k,cursor:L?"not-allowed":"pointer",onClick:b,shrink:0,children:(0,t.jsx)(c.J,{as:r.Z,width:f==="M"?`${11/16}rem`:`${8/16}rem`,color:E?"primary600":"neutral600"})});return(0,t.jsx)(p,{paddingBottom:F,paddingLeft:W,paddingRight:W,paddingTop:F,background:N,expanded:E,size:f,justifyContent:"space-between",cursor:L?"not-allowed":"",children:(0,t.jsxs)(i.k,{gap:3,flex:1,maxWidth:"100%",children:[A==="left"&&h,(0,t.jsx)(g,{onClick:b,"aria-disabled":L,"aria-expanded":E,"aria-controls":I,"aria-labelledby":$,"data-strapi-accordion-toggle":!0,expanded:E,type:"button",flex:1,minWidth:0,...w,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.y,{...H,children:l}),v&&(0,t.jsx)(n.Z,{as:"p",id:j,textColor:S,children:v})]})}),A==="right"&&(0,t.jsxs)(i.k,{gap:3,children:[h,P]}),A==="left"&&P]})})}},29439:function(x,m,e){"use strict";e.d(m,{Z:function(){return a}});var t=e(74512);const r=d=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...d,children:(0,t.jsx)("path",{fill:"#212134",d:"M24 13.3a.2.2 0 0 1-.2.2H5.74l8.239 8.239a.2.2 0 0 1 0 .282L12.14 23.86a.2.2 0 0 1-.282 0L.14 12.14a.2.2 0 0 1 0-.282L11.86.14a.2.2 0 0 1 .282 0L13.98 1.98a.2.2 0 0 1 0 .282L5.74 10.5H23.8c.11 0 .2.09.2.2v2.6Z"})}),a=r},47081:function(x,m,e){"use strict";e.d(m,{Z:function(){return a}});var t=e(74512);const r=d=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...d,children:[(0,t.jsx)("path",{fill:"#212134",d:"M16.563 5.587a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,t.jsx)("path",{fill:"#212134",d:"M18.487 3.083c-.012.788-.487 1.513-1.229 1.797a1.954 1.954 0 0 1-2.184-.574A1.943 1.943 0 0 1 14.9 2.11c.4-.684 1.2-1.066 1.981-.927a1.954 1.954 0 0 1 1.606 1.9c.011.748 1.17.748 1.158 0A3.138 3.138 0 0 0 17.565.17c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.284 3.575.678 1.124 1.993 1.674 3.273 1.431 1.432-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.158-.006ZM16.563 14.372a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,t.jsx)("path",{fill:"#212134",d:"M18.487 11.867c-.012.789-.487 1.513-1.229 1.797a1.954 1.954 0 0 1-2.184-.574 1.943 1.943 0 0 1-.174-2.196c.4-.684 1.2-1.066 1.981-.927.928.156 1.588.968 1.606 1.9.011.748 1.17.748 1.158 0a3.138 3.138 0 0 0-2.08-2.914c-1.176-.423-2.567-.029-3.36.933-.83 1.002-.968 2.45-.284 3.575.678 1.124 1.993 1.675 3.273 1.431 1.432-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.158-.005ZM16.563 23.392a2.503 2.503 0 1 0 0-5.006 2.503 2.503 0 0 0 0 5.006Z"}),(0,t.jsx)("path",{fill:"#212134",d:"M18.487 20.89c-.012.787-.487 1.512-1.229 1.796a1.954 1.954 0 0 1-2.184-.574 1.943 1.943 0 0 1-.174-2.196c.4-.684 1.2-1.066 1.981-.927.928.156 1.588.967 1.606 1.9.011.748 1.17.748 1.158 0a3.138 3.138 0 0 0-2.08-2.914c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.284 3.575.678 1.124 1.993 1.674 3.273 1.431 1.432-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.158-.006ZM7.378 5.622a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,t.jsx)("path",{fill:"#212134",d:"M9.302 3.119c-.011.788-.486 1.512-1.228 1.796a1.954 1.954 0 0 1-2.185-.574 1.943 1.943 0 0 1-.173-2.196c.4-.684 1.199-1.066 1.981-.927a1.943 1.943 0 0 1 1.605 1.9c.012.748 1.17.748 1.16 0A3.138 3.138 0 0 0 8.38.205c-1.176-.423-2.567-.029-3.36.933-.83 1.002-.968 2.45-.285 3.575.678 1.124 1.994 1.675 3.274 1.431 1.431-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.159-.005ZM7.378 14.406a2.503 2.503 0 1 0 0-5.006 2.503 2.503 0 0 0 0 5.006Z"}),(0,t.jsx)("path",{fill:"#212134",d:"M9.302 11.902c-.011.788-.486 1.513-1.228 1.797a1.954 1.954 0 0 1-2.185-.574 1.943 1.943 0 0 1-.173-2.196c.4-.684 1.199-1.066 1.981-.927a1.943 1.943 0 0 1 1.605 1.9c.012.748 1.17.748 1.16 0A3.138 3.138 0 0 0 8.38 8.988c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.285 3.575.678 1.124 1.994 1.674 3.274 1.431 1.431-.272 2.428-1.593 2.451-3.019.012-.753-1.147-.753-1.159-.006ZM7.378 23.427a2.503 2.503 0 1 0 0-5.007 2.503 2.503 0 0 0 0 5.007Z"}),(0,t.jsx)("path",{fill:"#212134",d:"M9.302 20.924c-.011.788-.486 1.513-1.228 1.797a1.954 1.954 0 0 1-2.185-.574 1.943 1.943 0 0 1-.173-2.196c.4-.684 1.199-1.066 1.981-.927.933.156 1.594.967 1.605 1.9.012.748 1.17.748 1.16 0A3.139 3.139 0 0 0 8.38 18.01c-1.176-.423-2.567-.03-3.36.933-.83 1.002-.968 2.45-.285 3.569.678 1.124 1.994 1.675 3.274 1.431 1.431-.272 2.428-1.593 2.451-3.019.012-.747-1.147-.747-1.159 0Z"})]}),a=r},86308:function(x,m,e){"use strict";e.d(m,{Z:function(){return a}});var t=e(74512);const r=d=>(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1rem",height:"1rem",fill:"none",viewBox:"0 0 24 24",...d,children:[(0,t.jsx)("circle",{cx:12,cy:12,r:12,fill:"#212134"}),(0,t.jsx)("path",{fill:"#F6F6F9",d:"M17 12.569c0 .124-.1.224-.225.224h-3.981v3.982c0 .124-.101.225-.226.225h-1.136a.225.225 0 0 1-.226-.225v-3.981H7.226A.225.225 0 0 1 7 12.567v-1.136c0-.125.1-.226.225-.226h3.982V7.226c0-.124.1-.225.224-.225h1.138c.124 0 .224.1.224.225v3.982h3.982c.124 0 .225.1.225.224v1.138Z"})]}),a=r}}]);
