{"version":3,"sources":["../../../src/NativeDragSources/index.ts"],"sourcesContent":["import { nativeTypesConfig } from './nativeTypesConfig.js'\nimport { NativeDragSource } from './NativeDragSource.js'\n\nexport function createNativeDragSource(\n\ttype: string,\n\tdataTransfer?: DataTransfer,\n): NativeDragSource {\n\tconst config = nativeTypesConfig[type]\n\tif (!config) {\n\t\tthrow new Error(`native type ${type} has no configuration`)\n\t}\n\tconst result = new NativeDragSource(config)\n\tresult.loadDataTransfer(dataTransfer)\n\treturn result\n}\n\nexport function matchNativeItemType(\n\tdataTransfer: DataTransfer | null,\n): string | null {\n\tif (!dataTransfer) {\n\t\treturn null\n\t}\n\n\tconst dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || [])\n\treturn (\n\t\tObject.keys(nativeTypesConfig).filter((nativeItemType) => {\n\t\t\tconst typeConfig = nativeTypesConfig[nativeItemType]\n\t\t\tif (!typeConfig?.matchesTypes) {\n\t\t\t\treturn false\n\t\t\t}\n\t\t\treturn typeConfig.matchesTypes.some(\n\t\t\t\t(t) => dataTransferTypes.indexOf(t) > -1,\n\t\t\t)\n\t\t})[0] || null\n\t)\n}\n"],"names":["createNativeDragSource","matchNativeItemType","type","dataTransfer","config","nativeTypesConfig","Error","result","NativeDragSource","loadDataTransfer","dataTransferTypes","Array","prototype","slice","call","types","Object","keys","filter","nativeItemType","typeConfig","matchesTypes","some","t","indexOf"],"mappings":"AAAA;;;;QAGgBA,sBAAsB,GAAtBA,sBAAsB;QAatBC,mBAAmB,GAAnBA,mBAAmB;AAhBD,IAAA,oBAAwB,WAAxB,wBAAwB,CAAA;AACzB,IAAA,mBAAuB,WAAvB,uBAAuB,CAAA;AAEjD,SAASD,sBAAsB,CACrCE,IAAY,EACZC,YAA2B,EACR;IACnB,MAAMC,MAAM,GAAGC,oBAAiB,kBAAA,CAACH,IAAI,CAAC;IACtC,IAAI,CAACE,MAAM,EAAE;QACZ,MAAM,IAAIE,KAAK,CAAC,CAAC,YAAY,EAAEJ,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAA;KAC3D;IACD,MAAMK,MAAM,GAAG,IAAIC,mBAAgB,iBAAA,CAACJ,MAAM,CAAC;IAC3CG,MAAM,CAACE,gBAAgB,CAACN,YAAY,CAAC;IACrC,OAAOI,MAAM,CAAA;CACb;AAEM,SAASN,mBAAmB,CAClCE,YAAiC,EACjB;IAChB,IAAI,CAACA,YAAY,EAAE;QAClB,OAAO,IAAI,CAAA;KACX;IAED,MAAMO,iBAAiB,GAAGC,KAAK,CAACC,SAAS,CAACC,KAAK,CAACC,IAAI,CAACX,YAAY,CAACY,KAAK,IAAI,EAAE,CAAC;IAC9E,OACCC,MAAM,CAACC,IAAI,CAACZ,oBAAiB,kBAAA,CAAC,CAACa,MAAM,CAAC,CAACC,cAAc,GAAK;QACzD,MAAMC,UAAU,GAAGf,oBAAiB,kBAAA,CAACc,cAAc,CAAC;QACpD,IAAI,CAACC,CAAAA,UAAU,aAAVA,UAAU,WAAc,GAAxBA,KAAAA,CAAwB,GAAxBA,UAAU,CAAEC,YAAY,CAAA,EAAE;YAC9B,OAAO,KAAK,CAAA;SACZ;QACD,OAAOD,UAAU,CAACC,YAAY,CAACC,IAAI,CAClC,CAACC,CAAC,GAAKb,iBAAiB,CAACc,OAAO,CAACD,CAAC,CAAC,GAAG,CAAC,CAAC;QAAA,CACxC,CAAA;KACD,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,CACb;CACD"}